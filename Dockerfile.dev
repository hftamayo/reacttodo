FROM node:18-alpine

WORKDIR /app

# Install dependencies first (better layer caching)
COPY package.json yarn.lock ./
RUN yarn install

# Copy source code
COPY . .

# Expose Vite's default port
EXPOSE 5173

# Start development server
CMD ["yarn", "dev", "--host"]

## how to use this file:
# docker build --no-cache -t hftamayo/reacttodo:0.0.1-experimental -f Dockerfile.dev .
# docker run -d --name reacttodo -p 8041:5173 --env-file .env hftamayo/reacttodo:0.0.1-experimental